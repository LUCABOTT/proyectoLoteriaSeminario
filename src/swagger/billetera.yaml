paths:
  /api/billetera/saldo/{usuarioId}:
    get:
      tags:
        - Billetera
      summary: Obtener saldo de la billetera
      description: Consulta el saldo actual de la billetera de un usuario específico
      parameters:
        - in: path
          name: usuarioId
          required: true
          schema:
            type: integer
          description: ID del usuario
          example: 123
      responses:
        "200":
          description: Saldo obtenido exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  usuario:
                    type: integer
                    example: 123
                    description: ID del usuario
                  saldo:
                    type: number
                    format: decimal
                    example: 500.00
                    description: Saldo actual en la billetera
        "400":
          description: usuarioId requerido
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "usuarioId requerido"
        "500":
          description: Error interno del servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: "Error interno del servidor"

  /api/billetera/recargar:
    post:
      tags:
        - Billetera
      summary: Recargar billetera
      description: Agrega dinero a la billetera del usuario para comprar tickets de lotería
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - usuarioId
                - monto
              properties:
                usuarioId:
                  type: integer
                  example: 123
                  description: ID del usuario que recarga la billetera
                monto:
                  type: number
                  format: decimal
                  minimum: 0.01
                  example: 100.00
                  description: Cantidad a recargar (debe ser mayor que 0)
      responses:
        "200":
          description: Recarga realizada exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  ok:
                    type: boolean
                    example: true
                  billetera:
                    type: object
                    description: Información actualizada de la billetera
                    properties:
                      id:
                        type: integer
                        example: 1
                      usuario_id:
                        type: integer
                        example: 123
                      saldo:
                        type: number
                        format: decimal
                        example: 600.00
                      fecha_actualizacion:
                        type: string
                        format: date-time
                        example: "2024-11-08T10:30:00Z"
        "400":
          description: Error en validación de datos
          content:
            application/json:
              schema:
                oneOf:
                  - type: array
                    description: Errores de validación
                    items:
                      type: object
                      properties:
                        msg:
                          type: string
                          example: "usuarioId es requerido"
                        param:
                          type: string
                          example: "usuarioId"
                        location:
                          type: string
                          example: "body"
                  - type: object
                    properties:
                      error:
                        type: string
                        example: "usuarioId y monto son requeridos"
