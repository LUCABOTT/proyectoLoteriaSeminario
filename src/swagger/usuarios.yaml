paths:
  /api/apiUsuarios/perfil:
    get:
      tags:
        - Usuarios
      summary: Obtener perfil del usuario autenticado
      description: Retorna la información del usuario autenticado actualmente
      security:
        - BearerAuth: []
      responses:
        '200':
          description: Información del usuario
        '401':
          description: No autorizado
        '404':
          description: Usuario no encontrado
        '500':
          description: Error interno del servidor

  /api/apiUsuarios/listar:
    get:
      tags:
        - Usuarios
      summary: Obtener todos los usuarios
      description: Retorna una lista de todos los usuarios del sistema
      security:
        - BearerAuth: []
      responses:
        '200':
          description: Lista de usuarios
        '401':
          description: No autorizado
        '500':
          description: Error interno del servidor

  /api/apiUsuarios/guardar:
    post:
      tags:
        - Usuarios
      summary: Crear un nuevo usuario
      description: |
        Crea un nuevo usuario en el sistema (solo administradores).
        Requiere: segundoNombre, segundoApellido, useremail, userpswd.
        Opcional: userest, usertipo, fechaNacimiento.
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            example:
              segundoNombre: "Elena"
              segundoApellido: "Pérez"
              useremail: "nuevo@ejemplo.com"
              userpswd: "password123"
              userest: "AC"
              usertipo: "PBL"
              fechaNacimiento: "1990-05-20"
      responses:
        '201':
          description: Usuario creado exitosamente
        '400':
          description: Solicitud incorrecta
        '401':
          description: No autorizado
        '409':
          description: Email ya registrado
        '500':
          description: Error interno del servidor

  /api/apiUsuarios/editar:
    put:
      tags:
        - Usuarios
      summary: Actualizar usuario
      description: |
        Actualiza la información de un usuario existente.
        Requiere: id.
        Opcional: segundoNombre, segundoApellido, useremail, userpswd, userest, usertipo, fechaNacimiento.
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            example:
              id: 1
              segundoNombre: "Eduardo"
              useremail: "usuario_actualizado@ejemplo.com"
      responses:
        '200':
          description: Usuario actualizado exitosamente
        '400':
          description: Error en la validación de datos
        '401':
          description: No autorizado
        '404':
          description: Usuario no encontrado
        '500':
          description: Error interno del servidor

  /api/apiUsuarios/eliminar:
    delete:
      tags:
        - Usuarios
      summary: Eliminar un usuario
      description: |
        Elimina un usuario del sistema.
        Parámetro de consulta: id (requerido).
      security:
        - BearerAuth: []
      parameters:
        - in: query
          name: id
          required: true
          description: ID del usuario a eliminar
      responses:
        '200':
          description: Usuario eliminado exitosamente
        '400':
          description: Error de validación
        '401':
          description: No autorizado
        '404':
          description: Usuario no encontrado
        '500':
          description: Error interno del servidor

  /api/apiTelefonosUsuarios:
    get:
      tags:
        - Usuarios
      summary: Obtener teléfonos de usuarios
      description: |
        Retorna la lista de teléfonos asociados a usuarios.
        Parámetro de consulta opcional: usuario_id.
      security:
        - BearerAuth: []
      parameters:
        - in: query
          name: usuario_id
          description: Filtrar por ID de usuario
      responses:
        '200':
          description: Lista de teléfonos
        '401':
          description: No autorizado
        '500':
          description: Error interno del servidor

    post:
      tags:
        - Usuarios
      summary: Agregar teléfono a usuario
      description: |
        Agrega un nuevo teléfono a un usuario.
        Requiere: usuario_id, numero, tipo.
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            example:
              usuario_id: 1
              numero: "+504 9999-8888"
              tipo: "movil"
      responses:
        '201':
          description: Teléfono agregado exitosamente
        '400':
          description: Solicitud incorrecta
        '401':
          description: No autorizado
        '404':
          description: Usuario no encontrado
        '500':
          description: Error interno del servidor

  /api/apiImagenesUsuarios:
    get:
      tags:
        - Usuarios
      summary: Obtener imagen de perfil
      description: |
        Retorna la imagen de perfil del usuario.
        Parámetro de consulta opcional: usuario_id (si no se proporciona, retorna la del usuario autenticado).
      security:
        - BearerAuth: []
      parameters:
        - in: query
          name: usuario_id
          description: ID del usuario
      responses:
        '200':
          description: Imagen obtenida exitosamente
        '401':
          description: No autorizado
        '404':
          description: Imagen no encontrada
        '500':
          description: Error interno del servidor

    post:
      tags:
        - Usuarios
      summary: Subir imagen de perfil
      description: Sube o actualiza la imagen de perfil del usuario autenticado
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          multipart/form-data:
            example:
              imagen: "(binary file)"
      responses:
        '200':
          description: Imagen subida exitosamente
        '400':
          description: Error en la validación
        '401':
          description: No autorizado
        '500':
          description: Error interno del servidor
