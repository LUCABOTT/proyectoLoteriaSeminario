paths:
  /api/sorteos/listar:
    get:
      tags:
        - Sorteos
      summary: Listar sorteos
      description: Obtiene todos los sorteos disponibles. Puede incluir filtros opcionales (según lo que el controlador implemente).
      responses:
        '200':
          description: Lista de sorteos obtenida correctamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  msj:
                    type: string
                    example: Lista de sorteos obtenida correctamente
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Sorteo'
        '500':
          description: Error interno al listar los sorteos
          content:
            application/json:
              schema:
                type: object
                properties:
                  msj:
                    type: string
                    example: Error al listar sorteos

  /api/sorteos/guardar:
    post:
      tags:
        - Sorteos
      summary: Crear un nuevo sorteo
      description: Crea un nuevo sorteo asociado a un juego existente. Solo administradores.
      security:
        - BearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - IdJuego
                - Cierre
              properties:
                IdJuego:
                  type: integer
                  example: 1
                  description: ID de un juego existente
                Cierre:
                  type: string
                  format: date-time
                  example: '2025-12-15T20:00:00Z'
                  description: Fecha y hora de cierre del sorteo (ISO 8601)
                Estado:
                  type: string
                  enum: [programado, abierto, cerrado, sorteado, anulado]
                  example: programado
                  description: Estado inicial del sorteo (opcional, por defecto programado)
                NumerosGanadores:
                  type: array
                  items:
                    type: integer
                  example: [10, 20, 30]
                  description: Lista de números ganadores (opcional)
      responses:
        '200':
          description: Sorteo creado exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  msj:
                    type: string
                    example: Sorteo guardado exitosamente
                  data:
                    $ref: '#/components/schemas/Sorteo'
        '400':
          description: Error en la validación de los datos
          content:
            application/json:
              schema:
                type: object
                properties:
                  msj:
                    type: string
                    example: Hay errores de validación
        '404':
          description: El IdJuego no existe
          content:
            application/json:
              schema:
                type: object
                properties:
                  msj:
                    type: string
                    example: El IdJuego no existe
        '500':
          description: Error interno al guardar sorteo
          content:
            application/json:
              schema:
                type: object
                properties:
                  msj:
                    type: string
                    example: Error al guardar sorteo

  /api/sorteos/editar:
    put:
      tags:
        - Sorteos
      summary: Editar un sorteo existente
      description: Actualiza la información de un sorteo existente. Todos los campos son opcionales excepto el parámetro **id** en query.
      security:
        - BearerAuth: []
      parameters:
        - in: query
          name: id
          required: true
          schema:
            type: integer
          description: ID del sorteo a editar
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                IdJuego:
                  type: integer
                  example: 2
                  description: ID del juego (opcional, debe existir)
                Cierre:
                  type: string
                  format: date-time
                  example: '2025-12-20T20:00:00Z'
                  description: Nueva fecha de cierre (opcional)
                Estado:
                  type: string
                  enum: [programado, abierto, cerrado, sorteado, anulado]
                  example: sorteado
                  description: Nuevo estado del sorteo (opcional)
                NumerosGanadores:
                  type: array
                  items:
                    type: integer
                  example: [5, 10, 15, 20, 25]
                  description: Lista de números ganadores (opcional)
      responses:
        '200':
          description: Sorteo editado exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  msj:
                    type: string
                    example: Sorteo editado exitosamente
                  data:
                    $ref: '#/components/schemas/Sorteo'
        '400':
          description: Error de validación o transición inválida
          content:
            application/json:
              schema:
                type: object
                properties:
                  msj:
                    type: string
                    example: Transición de estado inválida o datos incorrectos
        '404':
          description: El id del sorteo no existe
          content:
            application/json:
              schema:
                type: object
                properties:
                  msj:
                    type: string
                    example: El id del sorteo no existe
        '500':
          description: Error interno del servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  msj:
                    type: string
                    example: Error al editar sorteo

  /api/sorteos/eliminar:
    delete:
      tags:
        - Sorteos
      summary: Eliminar un sorteo existente
      description: Elimina un sorteo del sistema mediante su ID.
      security:
        - BearerAuth: []
      parameters:
        - in: query
          name: id
          required: true
          schema:
            type: integer
          description: ID del sorteo a eliminar
      responses:
        '200':
          description: Sorteo eliminado exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  msj:
                    type: string
                    example: Sorteo eliminado exitosamente
                  data:
                    type: integer
                    example: 1
        '400':
          description: Error en la validación del ID
          content:
            application/json:
              schema:
                type: object
                properties:
                  msj:
                    type: string
                    example: Hay errores de validación
        '404':
          description: El id del sorteo no existe
          content:
            application/json:
              schema:
                type: object
                properties:
                  msj:
                    type: string
                    example: El id del sorteo no existe
        '500':
          description: Error interno del servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  msj:
                    type: string
                    example: Error al eliminar sorteo